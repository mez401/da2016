---
title: "Лабораторная работа 1"
author: "Мезенцева Алена"
date: '19 ноября 2016 г '
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Исходные данные

Экспоненциальное распределение определяется следующей функцией распределения:  
F(x) = 1 - e^(-λ⋅x)

## Задание 1

1. Сгенерируйте 200 случайных значений из стандартного экспоненциального распределения и сохраните в вектор exp.1. Найдите среднее и стандартное отклонение из данных этого вектора.

```{r } 
exp.1 <- rexp(n=200)
mean(exp.1)->M1
sd(exp.1)->D1
```

2. Повторите, использовав следующие значения параметра λ: 0.1, 0.5, 5, 10, и сохраните результаты в векторы: exp.0.1, exp.0.5, exp.5, exp.10.

λ = 0.1
```{r } 
exp.0.1 <- rexp(n=200, rate=0.1)
mean(exp.0.1)->M2
sd(exp.0.1)->D2
```

λ = 0.5
```{r } 
exp.0.5 <- rexp(n=200, rate=0.5)
mean(exp.0.5)->M3
sd(exp.0.5)->D3
```

λ = 5
```{r } 
exp.5 <- rexp(n=200, rate=5)
mean(exp.5)->M4
sd(exp.5)->D4
```

λ = 10
```{r } 
exp.10 <- rexp(n=200, rate=10)
mean(exp.10)->M5
sd(exp.10)->D5
```

3. Функция plot() общая функция для визуализации данных. Функция hist() принимает данные и раскладывает их по корзинам. Чтобы использовать эти функции нужно для начала передать им данные, которые хотим визуализировать. 

* Используйте функцию hist() для построения гистограммы полученного ранее стандартного распределения.

```{r} 
hist(exp.1)
```

* Используйте функцию plot() с тем же самым вектором для построения графика значений в порядке следования. 

```{r} 
plot(exp.1)
```

* Используйте функцию plot() с любыми двумя полученными ранее векторами, чтобы получить диаграмму рассеяния (scatterplot) этих векторов относительно друг друга.

```{r} 
plot(exp.1, exp.5)
```

4. Теперь сравним свойства всех наших векторов. Для начала создадим вектор, содержащий средние значения каждого из 5 полученных ранее распределений в порядке их создания. Полученный вектор сохраним в переменную exp.means. 

```{r} 
exp.means <- rep(c(M1,M2,M3,M4,M5), times=40)
```

Далее необходимо создать следующие диаграммы рассеяния: 

* Вектор с пятью средними относительно каждого из пяти векторов с различными значениями λ.

```{r} 
layout(matrix(c(1,1,2,2,3,3,0,4,4,5,5,0),nrow = 2, byrow = TRUE))
plot(exp.means, exp.1)
plot(exp.means, exp.0.1)
plot(exp.means, exp.0.5)
plot(exp.means, exp.5)
plot(exp.means, exp.10)
```

* Вектор с пятью стандартными отклонениями относительно каждого из пяти векторов с различными значениями λ. 

```{r} 
exp.sd <- rep(c(D1,D2,D3,D4,D5),times=40)
layout(mat=matrix(c(1,1,2,2,3,3,0,4,4,5,5,0),nrow = 2, byrow = TRUE))
plot(exp.sd, exp.1)
plot(exp.sd, exp.0.1)
plot(exp.sd, exp.0.5)
plot(exp.sd, exp.5)
plot(exp.sd, exp.10)
```

* Вектор с пятью средними относительно вектора с пятью стандартными отклонениями.

```{r} 
plot(exp.means,exp.sd)
```

## Задание 2

* Для демонстрации сгенерируйте 1100000 (1 млн. 100 тысяч) чисел из стандартного экспоненциального распределения и сохраните их в вектор huge.exp.1. Получите среднее и стандартное отклонение. 

```{r }
huge.exp.1 <- rexp(n=1100000)
mean(huge.exp.1)
sd(huge.exp.1)
```

* Получите гистограмму huge.exp.1. Она соответствует функции 1 - e:^(-x)? Должна ли?  

```{r }
hist(huge.exp.1)
# По форме да, т.к. это стандартное экспоненциальное распределение, но значения больше, что логично.
```

* Получите среднее всех чисел из huge.exp.1 строго больших 1. Для проверки выборки может потребоваться новый вектор.

```{r }
huge.1 <- huge.exp.1[huge.exp.1>1]
mean(huge.1)
```

* Получите матрицу huge.exp.1.mat, содержащую 1100 строк и 1000 колонок. Постройте гистограмму, использовав полученную матрицу. Что можно сказать о полученных данных?

```{r }
huge.exp.1.mat <- matrix(data=huge.exp.1, nrow=1100, ncol=1000)
hist(huge.exp.1.mat)
# Полученная гистрограмма соответствует гистограмме выше.
```

* Рассчитайте среднее 137-й колонки из huge.exp.1.mat.

```{r }
mean(huge.exp.1.mat[,137])
```

* Найдите среднее всех 1000 колонок и сохраните их в вектор. Отобразите диаграмму средних значений колонок. Объясните почему форма диаграммы отличается от виденных ранее.

```{r }
mean.1000 <- colMeans(huge.exp.1.mat)
hist(mean.1000)
# Т.к. отобрали среднее значение 1000 колонок, получили нормальное распределение.
```

* Рассчитайте квадрат каждого значения из huge.exp.1 и найдите среднее и стандартное отклонение полученного вектора квадратов. Объясните отличие от соответствующих показателей вектора huge.exp.1. Вам может помочь формула, по которой R рассчитывает стандартное отклонение: sqrt(sum((x - mean(x))^2) / (n - 1)).

```{r }
huge.exp.1.new <- huge.exp.1**2
mean(huge.exp.1.new)
sd(huge.exp.1.new)
```